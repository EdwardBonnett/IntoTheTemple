"use strict";function setHtml(n,t){document.getElementById(n).innerHTML=t}function setOptions(n){var t="";for(var i in n.o)t+='<li><a href="/'+n.o[i].i+'">'+n.o[i].t+"<\/a><\/li>";document.getElementsByClassName("options")[0].innerHTML=t}function setClass(n){var t=document.getElementById("game");t.classList="";setTimeout(function(){t.className=n},1)}var ajax={};ajax.x=function(){var t,i,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;for(t=["MSXML2.XmlHttp.6.0","MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],n=0;n<t.length;n++)try{i=new ActiveXObject(t[n]);break}catch(r){console.log(r)}return i};ajax.send=function(n,t,i,r,u){u===undefined&&(u=!0);var f=ajax.x();f.open(i,n,u);f.onreadystatechange=function(){f.readyState===4&&t(f.responseText)};i==="POST"&&f.setRequestHeader("Content-type","application/x-www-form-urlencoded");f.send(r)};ajax.get=function(n,t,i,r){var u=[];for(var f in t)u.push(encodeURIComponent(f)+"="+encodeURIComponent(t[f]));ajax.send(n+(u.length?"?"+u.join("&"):""),i,"GET",null,r)};ajax.post=function(n,t,i,r){var u=[];for(var f in t)u.push(encodeURIComponent(f)+"="+encodeURIComponent(t[f]));ajax.send(n,i,"POST",u.join("&"),r)};window.onclick=function(n){var t,i=n.target||n.srcElement;i.tagName==="A"&&(t=i.getAttribute("href"),n.preventDefault(),ajax.get("api/room"+t,{},function(n){var t=JSON.parse(n);setClass(t.c);setHtml("room",t.r);setHtml("action",t.l);setOptions(t)}))};